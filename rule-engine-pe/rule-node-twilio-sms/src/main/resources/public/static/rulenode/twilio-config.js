System.register(["@angular/core","@shared/public-api","@angular/forms","@ngrx/store","@ngx-translate/core","@angular/common","@home/components/public-api","@angular/platform-browser"],(function(e){"use strict";var t,i,n,o,r,a,l,u,s,m,p;return{setters:[function(e){t=e,i=e.ɵNG_COMP_DEF},function(e){n=e.RuleNodeConfigurationComponent,o=e.SharedModule},function(e){r=e.Validators,a=e},function(e){l=e},function(e){u=e},function(e){s=e.CommonModule},function(e){m=e.HomeComponentsModule},function(e){p=e}],execute:function(){const c=()=>({maxWidth:"820px"});function d(e,i){1&e&&(t.ɵɵelementStart(0,"mat-error"),t.ɵɵtext(1),t.ɵɵpipe(2,"translate"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"tb.twilio.number-from-required")," "))}function L(e,i){1&e&&(t.ɵɵelementStart(0,"mat-error"),t.ɵɵtext(1),t.ɵɵpipe(2,"translate"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"tb.twilio.numbers-to-required")," "))}function v(e,i){1&e&&(t.ɵɵelementStart(0,"mat-error"),t.ɵɵtext(1),t.ɵɵpipe(2,"translate"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"tb.twilio.account-sid-required")," "))}class P extends n{store;fb;twilioSmsConfigForm;constructor(e,t){super(e),this.store=e,this.fb=t}configForm(){return this.twilioSmsConfigForm}onConfigurationSet(e){this.twilioSmsConfigForm=this.fb.group({numberFrom:[e?e.numberFrom:null,[r.required]],numbersTo:[e?e.numbersTo:null,[r.required]],accountSid:[e?e.accountSid:null,[r.required]],accountToken:[e?e.accountToken:null,[r.required]]})}static"ɵfac"=function(e){return new(e||P)(t.ɵɵdirectiveInject(l.Store),t.ɵɵdirectiveInject(a.FormBuilder))};static"ɵcmp"=t.ɵɵdefineComponent({type:P,selectors:[["tb-action-node-twilio-sms-config"]],features:[t.ɵɵInheritDefinitionFeature],decls:39,vars:32,consts:[[1,"tb-form-panel","no-border","no-padding","flex","flex-col",3,"formGroup"],[1,"tb-form-panel","stroked"],["translate","",1,"tb-form-panel-title"],["subscriptSizing","dynamic",1,"mat-block"],["translate",""],["required","","matInput","","formControlName","numberFrom"],[4,"ngIf"],["align","start",1,"text-hint",3,"innerHTML"],["align","end"],[1,"input-bottom-double-hint"],["hintMode","","tb-help-popup-placement","right","trigger-style","letter-spacing:0.25px; font-size:12px;",1,"see-example",3,"tb-help-popup","tb-help-popup-style","trigger-text"],["required","","matInput","","formControlName","numbersTo"],[1,"tb-form-panel","stroked","no-gap","no-padding-bottom"],["translate","",1,"tb-form-panel-title","margin-bottom"],[1,"mat-block"],["required","","matInput","","formControlName","accountSid"],["formControlName","accountToken","required","",1,"mat-block","flex-1",3,"label","requiredText"]],template:function(e,i){1&e&&(t.ɵɵelementStart(0,"section",0)(1,"section",1)(2,"div",2),t.ɵɵtext(3,"tb.twilio.phone-settings"),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"mat-form-field",3)(5,"mat-label",4),t.ɵɵtext(6,"tb.twilio.number-from"),t.ɵɵelementEnd(),t.ɵɵelement(7,"input",5),t.ɵɵtemplate(8,d,3,3,"mat-error",6),t.ɵɵelement(9,"mat-hint",7),t.ɵɵpipe(10,"translate"),t.ɵɵpipe(11,"safeHtml"),t.ɵɵelementStart(12,"mat-hint",8)(13,"div",9),t.ɵɵelement(14,"div",10),t.ɵɵpipe(15,"translate"),t.ɵɵelementEnd()()(),t.ɵɵelementStart(16,"mat-form-field",3)(17,"mat-label",4),t.ɵɵtext(18,"tb.twilio.numbers-to"),t.ɵɵelementEnd(),t.ɵɵelement(19,"input",11),t.ɵɵtemplate(20,L,3,3,"mat-error",6),t.ɵɵelement(21,"mat-hint",7),t.ɵɵpipe(22,"translate"),t.ɵɵpipe(23,"safeHtml"),t.ɵɵelementStart(24,"mat-hint",8)(25,"div",9),t.ɵɵelement(26,"div",10),t.ɵɵpipe(27,"translate"),t.ɵɵelementEnd()()()(),t.ɵɵelementStart(28,"section",12)(29,"div",13),t.ɵɵtext(30,"tb.twilio.account-settings"),t.ɵɵelementEnd(),t.ɵɵelementStart(31,"mat-form-field",14)(32,"mat-label",4),t.ɵɵtext(33,"tb.twilio.account-sid"),t.ɵɵelementEnd(),t.ɵɵelement(34,"input",15),t.ɵɵtemplate(35,v,3,3,"mat-error",6),t.ɵɵelementEnd(),t.ɵɵelement(36,"tb-secret-key-input",16),t.ɵɵpipe(37,"translate"),t.ɵɵpipe(38,"translate"),t.ɵɵelementEnd()()),2&e&&(t.ɵɵproperty("formGroup",i.twilioSmsConfigForm),t.ɵɵadvance(8),t.ɵɵproperty("ngIf",i.twilioSmsConfigForm.get("numberFrom").hasError("required")),t.ɵɵadvance(),t.ɵɵproperty("innerHTML",t.ɵɵpipeBind1(11,16,t.ɵɵpipeBind1(10,14,"tb.twilio.number-to-hint")),t.ɵɵsanitizeHtml),t.ɵɵadvance(5),t.ɵɵpropertyInterpolate("tb-help-popup","rulenode/twilio_sms_numbers_templatization"),t.ɵɵpropertyInterpolate("trigger-text",t.ɵɵpipeBind1(15,18,"tb.twilio.see-examples")),t.ɵɵproperty("tb-help-popup-style",t.ɵɵpureFunction0(30,c)),t.ɵɵadvance(6),t.ɵɵproperty("ngIf",i.twilioSmsConfigForm.get("numbersTo").hasError("required")),t.ɵɵadvance(),t.ɵɵproperty("innerHTML",t.ɵɵpipeBind1(23,22,t.ɵɵpipeBind1(22,20,"tb.twilio.numbers-to-hint")),t.ɵɵsanitizeHtml),t.ɵɵadvance(5),t.ɵɵpropertyInterpolate("tb-help-popup","rulenode/twilio_sms_numbers_templatization"),t.ɵɵpropertyInterpolate("trigger-text",t.ɵɵpipeBind1(27,24,"tb.twilio.see-examples")),t.ɵɵproperty("tb-help-popup-style",t.ɵɵpureFunction0(31,c)),t.ɵɵadvance(9),t.ɵɵproperty("ngIf",i.twilioSmsConfigForm.get("accountSid").hasError("required")),t.ɵɵadvance(),t.ɵɵpropertyInterpolate("label",t.ɵɵpipeBind1(37,26,"tb.twilio.account-token")),t.ɵɵpropertyInterpolate("requiredText",t.ɵɵpipeBind1(38,28,"tb.twilio.account-token-required")))},dependencies:t.ɵɵgetComponentDepsFactory(P),styles:["[_nghost-%COMP%]   .margin-bottom[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   .input-bottom-double-hint[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   .input-bottom-double-hint[_ngcontent-%COMP%]   .see-example[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%]   .text-hint[_ngcontent-%COMP%]{max-width:80%}"]})}var f,g;e("TwilioSmsConfigComponent",P),function(e){e.MAN="man",e.WOMAN="woman",e.ALICE="alice",e.POLLY_ADITI="Polly.Aditi",e.POLLY_AMY="Polly.Amy",e.POLLY_ASTRID="Polly.Astrid",e.POLLY_BIANCA="Polly.Bianca",e.POLLY_BRIAN="Polly.Brian",e.POLLY_CAMILA="Polly.Camila",e.POLLY_CARLA="Polly.Carla",e.POLLY_CARMEN="Polly.Carmen",e.POLLY_CELINE="Polly.Celine",e.POLLY_CHANTAL="Polly.Chantal",e.POLLY_CONCHITA="Polly.Conchita",e.POLLY_CRISTIANO="Polly.Cristiano",e.POLLY_DORA="Polly.Dora",e.POLLY_EMMA="Polly.Emma",e.POLLY_ENRIQUE="Polly.Enrique",e.POLLY_EWA="Polly.Ewa",e.POLLY_FILIZ="Polly.Filiz",e.POLLY_GERAINT="Polly.Geraint",e.POLLY_GIORGIO="Polly.Giorgio",e.POLLY_GWYNETH="Polly.Gwyneth",e.POLLY_HANS="Polly.Hans",e.POLLY_INES="Polly.Ines",e.POLLY_IVY="Polly.Ivy",e.POLLY_JACEK="Polly.Jacek",e.POLLY_JAN="Polly.Jan",e.POLLY_JOANNA="Polly.Joanna",e.POLLY_JOEY="Polly.Joey",e.POLLY_JUSTIN="Polly.Justin",e.POLLY_KARL="Polly.Karl",e.POLLY_KENDRA="Polly.Kendra",e.POLLY_KIMBERLY="Polly.Kimberly",e.POLLY_LEA="Polly.Lea",e.POLLY_LIV="Polly.Liv",e.POLLY_LOTTE="Polly.Lotte",e.POLLY_LUCIA="Polly.Lucia",e.POLLY_LUPE="Polly.Lupe",e.POLLY_MADS="Polly.Mads",e.POLLY_MAJA="Polly.Maja",e.POLLY_MARLENE="Polly.Marlene",e.POLLY_MATHIEU="Polly.Mathieu",e.POLLY_MATTHEW="Polly.Matthew",e.POLLY_MAXIM="Polly.Maxim",e.POLLY_MIA="Polly.Mia",e.POLLY_MIGUEL="Polly.Miguel",e.POLLY_MIZUKI="Polly.Mizuki",e.POLLY_NAJA="Polly.Naja",e.POLLY_NICOLE="Polly.Nicole",e.POLLY_PENELOPE="Polly.Penelope",e.POLLY_RAVEENA="Polly.Raveena",e.POLLY_RICARDO="Polly.Ricardo",e.POLLY_RUBEN="Polly.Ruben",e.POLLY_RUSSELL="Polly.Russell",e.POLLY_SALLI="Polly.Salli",e.POLLY_SEOYEON="Polly.Seoyeon",e.POLLY_TAKUMI="Polly.Takumi",e.POLLY_TATYANA="Polly.Tatyana",e.POLLY_VICKI="Polly.Vicki",e.POLLY_VITORIA="Polly.Vitoria",e.POLLY_ZEINA="Polly.Zeina",e.POLLY_ZHIYU="Polly.Zhiyu",e.POLLY_AMY_NEURAL="Polly.Amy-Neural",e.POLLY_EMMA_NEURAL="Polly.Emma-Neural",e.POLLY_BRIAN_NEURAL="Polly.Brian-Neural",e.POLLY_SALLI_NEURAL="Polly.Salli-Neural",e.POLLY_IVY_NEURAL="Polly.Ivy-Neural",e.POLLY_JOANNA_NEURAL="Polly.Joanna-Neural",e.POLLY_KENDRA_NEURAL="Polly.Kendra-Neural",e.POLLY_KIMBERLY_NEURAL="Polly.Kimberly-Neural",e.POLLY_JOEY_NEURAL="Polly.Joey-Neural",e.POLLY_JUSTIN_NEURAL="Polly.Justin-Neural",e.POLLY_MATTHEW_NEURAL="Polly.Matthew-Neural",e.POLLY_CAMILA_NEURAL="Polly.Camila-Neural",e.POLLY_LUPE_NEURAL="Polly.Lupe-Neural"}(f||(f={})),function(e){e.BASIC="Basic",e.ALICE="Alice",e.AMAZON_POLLY="Amazon Polly"}(g||(g={}));const E=new Map([["en",{viewValue:"English, United States",value:"en",voices:[f.MAN,f.WOMAN]}],["en-gb",{viewValue:"English, British",value:"en-gb",voices:[f.MAN,f.WOMAN]}],["es",{viewValue:"Spanish, Spain",value:"es",voices:[f.MAN,f.WOMAN]}],["fr",{viewValue:"French",value:"fr",voices:[f.MAN,f.WOMAN]}],["de",{viewValue:"German",value:"de",voices:[f.MAN,f.WOMAN]}]]),O=new Map([["da-DK",{viewValue:"Danish, Denmark",value:"da-DK",voices:[f.ALICE]}],["de-DE",{viewValue:"German, Germany",value:"de-DE",voices:[f.ALICE]}],["en-AU",{viewValue:"English, Australia",value:"en-AU",voices:[f.ALICE]}],["en-CA",{viewValue:"English, Canada",value:"en-CA",voices:[f.ALICE]}],["en-GB",{viewValue:"English, UK",value:"en-GB",voices:[f.ALICE]}],["en-IN",{viewValue:"English, India",value:"en-IN",voices:[f.ALICE]}],["en-US",{viewValue:"English, United States",value:"en-US",voices:[f.ALICE]}],["ca-ES",{viewValue:"Catalan, Spain",value:"ca-ES",voices:[f.ALICE]}],["es-ES",{viewValue:"Spanish, Spain",value:"es-ES",voices:[f.ALICE]}],["es-MX",{viewValue:"Spanish, Mexico",value:"es-MX",voices:[f.ALICE]}],["fi-FI",{viewValue:"Finnish, Finland",value:"fi-FI",voices:[f.ALICE]}],["fr-CA",{viewValue:"French, Canada",value:"fr-CA",voices:[f.ALICE]}],["fr-FR",{viewValue:"French, France",value:"fr-FR",voices:[f.ALICE]}],["it-IT",{viewValue:"Italian, Italy",value:"it-IT",voices:[f.ALICE]}],["ja-JP",{viewValue:"Japanese, Japan",value:"ja-JP",voices:[f.ALICE]}],["ko-KR",{viewValue:"Korean, Korea",value:"ko-KR",voices:[f.ALICE]}],["nb-NO",{viewValue:"Norwegian, Norway",value:"nb-NO",voices:[f.ALICE]}],["nl-NL",{viewValue:"Dutch, Netherlands",value:"nl-NL",voices:[f.ALICE]}],["pl-PL",{viewValue:"Polish-Poland",value:"pl-PL",voices:[f.ALICE]}],["pt-BR",{viewValue:"Portuguese, Brazil",value:"pt-BR",voices:[f.ALICE]}],["pt-PT",{viewValue:"Portuguese, Portugal",value:"pt-PT",voices:[f.ALICE]}],["ru-RU",{viewValue:"Russian, Russia",value:"ru-RU",voices:[f.ALICE]}],["sv-SE",{viewValue:"Swedish, Sweden",value:"sv-SE",voices:[f.ALICE]}],["zh-CN",{viewValue:"Chinese (Mandarin)",value:"zh-CN",voices:[f.ALICE]}],["zh-HK",{viewValue:"Chinese (Cantonese)",value:"zh-HK",voices:[f.ALICE]}],["zh-TW",{viewValue:"Chinese (Taiwanese Mandarin)",value:"zh-TW",voices:[f.ALICE]}]]),A=new Map([["arb",{viewValue:"Arabic",value:"arb",voices:[f.POLLY_ZEINA]}],["cy-GB",{viewValue:"Welsh",value:"cy-GB",voices:[f.POLLY_GWYNETH]}],["da-DK",{viewValue:"Danish",value:"da-DK",voices:[f.POLLY_NAJA,f.POLLY_MADS]}],["de-DE",{viewValue:"German",value:"de-DE",voices:[f.POLLY_MARLENE,f.POLLY_VICKI,f.POLLY_HANS]}],["en-AU",{viewValue:"English (Australian)",value:"en-AU",voices:[f.POLLY_NICOLE,f.POLLY_RUSSELL]}],["en-GB",{viewValue:"English (British)",value:"en-GB",voices:[f.POLLY_AMY,f.POLLY_EMMA,f.POLLY_BRIAN,f.POLLY_AMY_NEURAL,f.POLLY_EMMA_NEURAL,f.POLLY_BRIAN_NEURAL]}],["en-GB",{viewValue:"English (Welsh)",value:"en-GB-WLS",voices:[f.POLLY_GERAINT]}],["en-IN",{viewValue:"English (Indian)",value:"en-IN",voices:[f.POLLY_ADITI,f.POLLY_RAVEENA]}],["en-US",{viewValue:"English (US)",value:"en-US",voices:[f.POLLY_SALLI,f.POLLY_IVY,f.POLLY_JOANNA,f.POLLY_KENDRA,f.POLLY_KIMBERLY,f.POLLY_JOEY,f.POLLY_JUSTIN,f.POLLY_MATTHEW,f.POLLY_SALLI_NEURAL,f.POLLY_IVY_NEURAL,f.POLLY_JOANNA_NEURAL,f.POLLY_KENDRA_NEURAL,f.POLLY_KIMBERLY_NEURAL,f.POLLY_JOEY_NEURAL,f.POLLY_JUSTIN_NEURAL,f.POLLY_MATTHEW_NEURAL]}],["es-ES",{viewValue:"Spanish (Castilian)",value:"es-ES",voices:[f.POLLY_CONCHITA,f.POLLY_ENRIQUE,f.POLLY_LUCIA]}],["es-MX",{viewValue:"Spanish (Mexico)",value:"es-MX",voices:[f.POLLY_MIA]}],["es-US",{viewValue:"Spanish (Latin American)",value:"es-US",voices:[f.POLLY_LUPE,f.POLLY_PENELOPE,f.POLLY_MIGUEL,f.POLLY_LUPE_NEURAL]}],["fr-CA",{viewValue:"French (Canadian)",value:"fr-CA",voices:[f.POLLY_CHANTAL]}],["fr-FR",{viewValue:"French",value:"fr-FR",voices:[f.POLLY_CELINE,f.POLLY_MATHIEU,f.POLLY_LEA]}],["hi-IN",{viewValue:"Hindi",value:"hi-IN",voices:[f.POLLY_ADITI]}],["is-IS",{viewValue:"Icelandic",value:"is-IS",voices:[f.POLLY_DORA,f.POLLY_KARL]}],["it-IT",{viewValue:"Italian",value:"it-IT",voices:[f.POLLY_CARLA,f.POLLY_GIORGIO,f.POLLY_BIANCA]}],["ja-JP",{viewValue:"Japanese",value:"ja-JP",voices:[f.POLLY_MIZUKI,f.POLLY_TAKUMI]}],["ko-KR",{viewValue:"Korean",value:"ko-KR",voices:[f.POLLY_SEOYEON]}],["nb-NO",{viewValue:"Norwegian",value:"nb-NO",voices:[f.POLLY_LIV]}],["nl-NL",{viewValue:"Dutch",value:"nl-NL",voices:[f.POLLY_LOTTE,f.POLLY_RUBEN]}],["pl-PL",{viewValue:"Polish",value:"pl-PL",voices:[f.POLLY_EWA,f.POLLY_MAJA,f.POLLY_JAN,f.POLLY_JACEK]}],["pt-BR",{viewValue:"Portuguese (Brazilian)",value:"pt-BR",voices:[f.POLLY_CAMILA,f.POLLY_VITORIA,f.POLLY_RICARDO,f.POLLY_CAMILA_NEURAL]}],["pt-PT",{viewValue:"Portuguese (European)",value:"pt-PT",voices:[f.POLLY_INES,f.POLLY_CRISTIANO]}],["ro-RO",{viewValue:"Romanian",value:"ro-RO",voices:[f.POLLY_CARMEN]}],["ru-RU",{viewValue:"Russian",value:"ru-RU",voices:[f.POLLY_TATYANA,f.POLLY_MAXIM]}],["sv-SE",{viewValue:"Swedish",value:"sv-SE",voices:[f.POLLY_ASTRID]}],["tr-TR",{viewValue:"Turkish",value:"tr-TR",voices:[f.POLLY_FILIZ]}],["zh-CN",{viewValue:"Chinese (Mandarin)",value:"zh-CN",voices:[f.POLLY_ZHIYU]}]]),b=new Map([[g.BASIC,E],[g.ALICE,O],[g.AMAZON_POLLY,A]]),_=()=>({maxWidth:"820px"});function I(e,i){1&e&&(t.ɵɵelementStart(0,"mat-error"),t.ɵɵtext(1),t.ɵɵpipe(2,"translate"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"tb.twilio.number-from-required")," "))}function h(e,i){1&e&&(t.ɵɵelementStart(0,"mat-error"),t.ɵɵtext(1),t.ɵɵpipe(2,"translate"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"tb.twilio.numbers-to-required")," "))}function C(e,i){1&e&&(t.ɵɵelementStart(0,"mat-error"),t.ɵɵtext(1),t.ɵɵpipe(2,"translate"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"tb.twilio.account-sid-required")," "))}function w(e,i){if(1&e&&(t.ɵɵelementStart(0,"mat-option",32),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){const e=i.$implicit;t.ɵɵproperty("value",e.value),t.ɵɵadvance(),t.ɵɵtextInterpolate1(" ",e.value," ")}}function y(e,i){1&e&&(t.ɵɵelementStart(0,"mat-error"),t.ɵɵtext(1),t.ɵɵpipe(2,"translate"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"tb.twilio.provider-required")," "))}function Y(e,i){if(1&e&&(t.ɵɵelementStart(0,"mat-option",32),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){const e=i.$implicit;t.ɵɵproperty("value",e.value),t.ɵɵadvance(),t.ɵɵtextInterpolate1(" ",e.viewValue," ")}}function N(e,i){1&e&&(t.ɵɵelementStart(0,"mat-error"),t.ɵɵtext(1),t.ɵɵpipe(2,"translate"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"tb.twilio.language-required")," "))}function S(e,i){if(1&e&&(t.ɵɵelementStart(0,"mat-option",32),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){const e=i.$implicit;t.ɵɵproperty("value",e),t.ɵɵadvance(),t.ɵɵtextInterpolate1(" ",e," ")}}function x(e,i){1&e&&(t.ɵɵelementStart(0,"mat-error"),t.ɵɵtext(1),t.ɵɵpipe(2,"translate"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"tb.twilio.voice-required")," "))}function M(e,i){1&e&&(t.ɵɵelementStart(0,"div",33),t.ɵɵtext(1," tb.twilio.percent "),t.ɵɵelementEnd())}function V(e,i){1&e&&(t.ɵɵelementStart(0,"mat-icon",34),t.ɵɵpipe(1,"translate"),t.ɵɵtext(2," warning "),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("matTooltip",t.ɵɵpipeBind1(1,1,"tb.twilio.pitch-required"))}function T(e,i){1&e&&(t.ɵɵelementStart(0,"div",33),t.ɵɵtext(1," tb.twilio.percent "),t.ɵɵelementEnd())}function R(e,i){1&e&&(t.ɵɵelementStart(0,"mat-icon",34),t.ɵɵpipe(1,"translate"),t.ɵɵtext(2," warning "),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("matTooltip",t.ɵɵpipeBind1(1,1,"tb.twilio.rate-required"))}function q(e,i){1&e&&(t.ɵɵelementStart(0,"div",33),t.ɵɵtext(1," tb.twilio.decibel "),t.ɵɵelementEnd())}function F(e,i){1&e&&(t.ɵɵelementStart(0,"mat-icon",34),t.ɵɵpipe(1,"translate"),t.ɵɵtext(2," warning "),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("matTooltip",t.ɵɵpipeBind1(1,1,"tb.twilio.volume-required"))}function U(e,i){1&e&&(t.ɵɵelementStart(0,"div",33),t.ɵɵtext(1," tb.twilio.seconds "),t.ɵɵelementEnd())}function B(e,i){if(1&e&&(t.ɵɵelementStart(0,"mat-icon",34),t.ɵɵtext(1," warning "),t.ɵɵelementEnd()),2&e){const e=t.ɵɵnextContext();t.ɵɵproperty("matTooltip",e.startPauseErrorText)}}class k extends n{store;fb;translate;twilioVoiceConfigForm;voiceConfiguration=b;providers=g;languages=[];voices=[];get startPauseErrorText(){const e=this.twilioVoiceConfigForm.get("startPause");return e.hasError("required")?this.translate.instant("tb.twilio.start-pause-required"):e.hasError("min")?this.translate.instant("tb.twilio.start-pause-min",{min:0}):""}constructor(e,t,i){super(e),this.store=e,this.fb=t,this.translate=i}configForm(){return this.twilioVoiceConfigForm}updateConfiguration(e){super.updateConfiguration(e),null!==this.configuration.provider&&(this.languages=Array.from(this.voiceConfiguration.get(e?.provider)?.values()),this.voices=this.voiceConfiguration.get(e?.provider)?.get(e?.language)?.voices)}onConfigurationSet(e){this.twilioVoiceConfigForm=this.fb.group({numberFrom:[e?e.numberFrom:null,[r.required]],numbersTo:[e?e.numbersTo:null,[r.required]],accountSid:[e?e.accountSid:null,[r.required]],accountToken:[e?e.accountToken:null,[r.required]],provider:[e?e.provider:null,[r.required]],language:[e?e.language:null,[r.required]],voice:[e?e.voice:null,[r.required]],pitch:[e?e.pitch:null,[r.required,r.min(0)]],rate:[e?e.rate:null,[r.required,r.min(0)]],volume:[e?e.volume:null,[r.required]],startPause:[e?e.startPause:null,[r.required,r.min(0)]]}),this.twilioVoiceConfigForm.get("provider").valueChanges.subscribe((e=>{this.languages=Array.from(this.voiceConfiguration.get(e)?.values()),this.voices=e===g.ALICE?[f.ALICE]:[],this.twilioVoiceConfigForm.patchValue({language:null,voice:e===g.ALICE?f.ALICE:null},{emitEvent:!1})})),this.twilioVoiceConfigForm.get("language").valueChanges.subscribe((e=>{this.voices=Array.from(this.voiceConfiguration.get(this.twilioVoiceConfigForm.get("provider").value)?.get(e).voices),this.twilioVoiceConfigForm.patchValue({voice:this.twilioVoiceConfigForm.get("provider").value===g.ALICE?f.ALICE:null},{emitEvent:!1})}))}static"ɵfac"=function(e){return new(e||k)(t.ɵɵdirectiveInject(l.Store),t.ɵɵdirectiveInject(a.FormBuilder),t.ɵɵdirectiveInject(u.TranslateService))};static"ɵcmp"=t.ɵɵdefineComponent({type:k,selectors:[["tb-action-node-twilio-voice-config"]],features:[t.ɵɵInheritDefinitionFeature],decls:93,vars:52,consts:[[1,"tb-form-panel","no-border","no-padding","flex","flex-col",3,"formGroup"],[1,"tb-form-panel","stroked"],["translate","",1,"tb-form-panel-title"],["subscriptSizing","dynamic",1,"mat-block"],["translate",""],["required","","matInput","","formControlName","numberFrom"],[4,"ngIf"],["align","start",1,"text-hint",3,"innerHTML"],["align","end"],[1,"input-bottom-double-hint"],["hintMode","","tb-help-popup-placement","right","trigger-style","letter-spacing:0.25px; font-size:12px;",1,"see-example",3,"tb-help-popup","tb-help-popup-style","trigger-text"],["required","","matInput","","formControlName","numbersTo"],[1,"tb-form-panel","stroked","no-gap","no-padding-bottom"],["translate","",1,"tb-form-panel-title","margin-bottom"],[1,"mat-block"],["required","","matInput","","formControlName","accountSid"],["formControlName","accountToken","required","",1,"mat-block","flex-1",3,"label","requiredText"],[1,"tb-flex","row"],[1,"mat-block","flex-1"],["formControlName","provider"],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","language"],["required","","formControlName","voice"],[1,"tb-form-row","space-between"],["translate","",1,"fixed-title-width","tb-required"],["appearance","outline","subscriptSizing","dynamic",1,"flex","number"],["required","","matInput","","type","number","formControlName","pitch","min","0"],["matSuffix","","translate","",4,"ngIf"],["matSuffix","","matTooltipPosition","above","matTooltipClass","tb-error-tooltip","class","material-icons tb-suffix-show-always tb-error",3,"matTooltip",4,"ngIf"],["required","","matInput","","type","number","formControlName","rate","min","0"],["required","","matInput","","type","number","formControlName","volume"],["required","","matInput","","type","number","formControlName","startPause","min","0"],[3,"value"],["matSuffix","","translate",""],["matSuffix","","matTooltipPosition","above","matTooltipClass","tb-error-tooltip",1,"material-icons","tb-suffix-show-always","tb-error",3,"matTooltip"]],template:function(e,i){1&e&&(t.ɵɵelementStart(0,"section",0)(1,"section",1)(2,"div",2),t.ɵɵtext(3,"tb.twilio.phone-settings"),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"mat-form-field",3)(5,"mat-label",4),t.ɵɵtext(6,"tb.twilio.number-from"),t.ɵɵelementEnd(),t.ɵɵelement(7,"input",5),t.ɵɵtemplate(8,I,3,3,"mat-error",6),t.ɵɵelement(9,"mat-hint",7),t.ɵɵpipe(10,"translate"),t.ɵɵpipe(11,"safeHtml"),t.ɵɵelementStart(12,"mat-hint",8)(13,"div",9),t.ɵɵelement(14,"div",10),t.ɵɵpipe(15,"translate"),t.ɵɵelementEnd()()(),t.ɵɵelementStart(16,"mat-form-field",3)(17,"mat-label",4),t.ɵɵtext(18,"tb.twilio.numbers-to"),t.ɵɵelementEnd(),t.ɵɵelement(19,"input",11),t.ɵɵtemplate(20,h,3,3,"mat-error",6),t.ɵɵelement(21,"mat-hint",7),t.ɵɵpipe(22,"translate"),t.ɵɵpipe(23,"safeHtml"),t.ɵɵelementStart(24,"mat-hint",8)(25,"div",9),t.ɵɵelement(26,"div",10),t.ɵɵpipe(27,"translate"),t.ɵɵelementEnd()()()(),t.ɵɵelementStart(28,"section",12)(29,"div",13),t.ɵɵtext(30,"tb.twilio.account-settings"),t.ɵɵelementEnd(),t.ɵɵelementStart(31,"mat-form-field",14)(32,"mat-label",4),t.ɵɵtext(33,"tb.twilio.account-sid"),t.ɵɵelementEnd(),t.ɵɵelement(34,"input",15),t.ɵɵtemplate(35,C,3,3,"mat-error",6),t.ɵɵelementEnd(),t.ɵɵelement(36,"tb-secret-key-input",16),t.ɵɵpipe(37,"translate"),t.ɵɵpipe(38,"translate"),t.ɵɵelementEnd(),t.ɵɵelementStart(39,"section",12)(40,"div",13),t.ɵɵtext(41,"tb.twilio.voice-settings"),t.ɵɵelementEnd(),t.ɵɵelementStart(42,"div",17)(43,"mat-form-field",18)(44,"mat-label",4),t.ɵɵtext(45,"tb.twilio.provider"),t.ɵɵelementEnd(),t.ɵɵelementStart(46,"mat-select",19),t.ɵɵtemplate(47,w,2,2,"mat-option",20),t.ɵɵpipe(48,"keyvalue"),t.ɵɵelementEnd(),t.ɵɵtemplate(49,y,3,3,"mat-error",6),t.ɵɵelementEnd(),t.ɵɵelementStart(50,"mat-form-field",18)(51,"mat-label",4),t.ɵɵtext(52,"tb.twilio.language"),t.ɵɵelementEnd(),t.ɵɵelementStart(53,"mat-select",21),t.ɵɵtemplate(54,Y,2,2,"mat-option",20),t.ɵɵelementEnd(),t.ɵɵtemplate(55,N,3,3,"mat-error",6),t.ɵɵelementEnd(),t.ɵɵelementStart(56,"mat-form-field",18)(57,"mat-label",4),t.ɵɵtext(58,"tb.twilio.voice"),t.ɵɵelementEnd(),t.ɵɵelementStart(59,"mat-select",22),t.ɵɵtemplate(60,S,2,2,"mat-option",20),t.ɵɵelementEnd(),t.ɵɵtemplate(61,x,3,3,"mat-error",6),t.ɵɵelementEnd()()(),t.ɵɵelementStart(62,"section",1)(63,"div",2),t.ɵɵtext(64,"tb.twilio.audio-output-settings"),t.ɵɵelementEnd(),t.ɵɵelementStart(65,"div",23)(66,"div",24),t.ɵɵtext(67,"tb.twilio.pitch"),t.ɵɵelementEnd(),t.ɵɵelementStart(68,"mat-form-field",25),t.ɵɵelement(69,"input",26),t.ɵɵtemplate(70,M,2,0,"div",27)(71,V,3,3,"mat-icon",28),t.ɵɵelementEnd()(),t.ɵɵelementStart(72,"div",23)(73,"div",24),t.ɵɵtext(74,"tb.twilio.rate"),t.ɵɵelementEnd(),t.ɵɵelementStart(75,"mat-form-field",25),t.ɵɵelement(76,"input",29),t.ɵɵtemplate(77,T,2,0,"div",27)(78,R,3,3,"mat-icon",28),t.ɵɵelementEnd()(),t.ɵɵelementStart(79,"div",23)(80,"div",24),t.ɵɵtext(81,"tb.twilio.volume"),t.ɵɵelementEnd(),t.ɵɵelementStart(82,"mat-form-field",25),t.ɵɵelement(83,"input",30),t.ɵɵtemplate(84,q,2,0,"div",27)(85,F,3,3,"mat-icon",28),t.ɵɵelementEnd()(),t.ɵɵelementStart(86,"div",23)(87,"div",24),t.ɵɵtext(88,"tb.twilio.start-pause"),t.ɵɵelementEnd(),t.ɵɵelementStart(89,"mat-form-field",25),t.ɵɵelement(90,"input",31),t.ɵɵtemplate(91,U,2,0,"div",27)(92,B,2,1,"mat-icon",28),t.ɵɵelementEnd()()()()),2&e&&(t.ɵɵproperty("formGroup",i.twilioVoiceConfigForm),t.ɵɵadvance(8),t.ɵɵproperty("ngIf",i.twilioVoiceConfigForm.get("numberFrom").hasError("required")),t.ɵɵadvance(),t.ɵɵproperty("innerHTML",t.ɵɵpipeBind1(11,34,t.ɵɵpipeBind1(10,32,"tb.twilio.number-to-hint")),t.ɵɵsanitizeHtml),t.ɵɵadvance(5),t.ɵɵpropertyInterpolate("tb-help-popup","rulenode/twilio_voice_numbers_templatization"),t.ɵɵpropertyInterpolate("trigger-text",t.ɵɵpipeBind1(15,36,"tb.twilio.see-examples")),t.ɵɵproperty("tb-help-popup-style",t.ɵɵpureFunction0(50,_)),t.ɵɵadvance(6),t.ɵɵproperty("ngIf",i.twilioVoiceConfigForm.get("numbersTo").hasError("required")),t.ɵɵadvance(),t.ɵɵproperty("innerHTML",t.ɵɵpipeBind1(23,40,t.ɵɵpipeBind1(22,38,"tb.twilio.numbers-to-hint")),t.ɵɵsanitizeHtml),t.ɵɵadvance(5),t.ɵɵpropertyInterpolate("tb-help-popup","rulenode/twilio_voice_numbers_templatization"),t.ɵɵpropertyInterpolate("trigger-text",t.ɵɵpipeBind1(27,42,"tb.twilio.see-examples")),t.ɵɵproperty("tb-help-popup-style",t.ɵɵpureFunction0(51,_)),t.ɵɵadvance(9),t.ɵɵproperty("ngIf",i.twilioVoiceConfigForm.get("accountSid").hasError("required")),t.ɵɵadvance(),t.ɵɵpropertyInterpolate("label",t.ɵɵpipeBind1(37,44,"tb.twilio.account-token")),t.ɵɵpropertyInterpolate("requiredText",t.ɵɵpipeBind1(38,46,"tb.twilio.account-token-required")),t.ɵɵadvance(11),t.ɵɵproperty("ngForOf",t.ɵɵpipeBind1(48,48,i.providers)),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",i.twilioVoiceConfigForm.get("provider").hasError("required")),t.ɵɵadvance(),t.ɵɵclassProp("!hidden",!i.twilioVoiceConfigForm.get("provider").value),t.ɵɵadvance(4),t.ɵɵproperty("ngForOf",i.languages),t.ɵɵadvance(),t.ɵɵproperty("ngIf",i.twilioVoiceConfigForm.get("language").hasError("required")),t.ɵɵadvance(),t.ɵɵclassProp("!hidden",!i.twilioVoiceConfigForm.get("language").value),t.ɵɵadvance(4),t.ɵɵproperty("ngForOf",i.voices),t.ɵɵadvance(),t.ɵɵproperty("ngIf",i.twilioVoiceConfigForm.get("voice").hasError("required")),t.ɵɵadvance(9),t.ɵɵproperty("ngIf",!i.twilioVoiceConfigForm.get("pitch").hasError("required")),t.ɵɵadvance(),t.ɵɵproperty("ngIf",i.twilioVoiceConfigForm.get("pitch").hasError("required")),t.ɵɵadvance(6),t.ɵɵproperty("ngIf",!i.twilioVoiceConfigForm.get("rate").hasError("required")),t.ɵɵadvance(),t.ɵɵproperty("ngIf",i.twilioVoiceConfigForm.get("rate").hasError("required")),t.ɵɵadvance(6),t.ɵɵproperty("ngIf",!i.twilioVoiceConfigForm.get("volume").hasError("required")),t.ɵɵadvance(),t.ɵɵproperty("ngIf",i.twilioVoiceConfigForm.get("volume").hasError("required")),t.ɵɵadvance(6),t.ɵɵproperty("ngIf",!i.twilioVoiceConfigForm.get("startPause").hasError("required")&&!i.twilioVoiceConfigForm.get("startPause").hasError("min")),t.ɵɵadvance(),t.ɵɵproperty("ngIf",i.twilioVoiceConfigForm.get("startPause").hasError("required")||i.twilioVoiceConfigForm.get("startPause").hasError("min")))},dependencies:t.ɵɵgetComponentDepsFactory(k),styles:["[_nghost-%COMP%]   .tb-form-panel[_ngcontent-%COMP%]   .tb-flex[_ngcontent-%COMP%]{display:flex;flex:1;gap:8px}[_nghost-%COMP%]   .tb-form-panel[_ngcontent-%COMP%]   .tb-flex.row[_ngcontent-%COMP%]{flex-direction:row}[_nghost-%COMP%]   .tb-form-panel[_ngcontent-%COMP%]   .tb-flex[_ngcontent-%COMP%]   .flex-1[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-infix{width:100%}","[_nghost-%COMP%]   .margin-bottom[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   .input-bottom-double-hint[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   .input-bottom-double-hint[_ngcontent-%COMP%]   .see-example[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%]   .text-hint[_ngcontent-%COMP%]{max-width:80%}"]})}e("TwilioVoiceConfigComponent",k);class K{sanitizer;constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}static"ɵfac"=function(e){return new(e||K)(t.ɵɵdirectiveInject(p.DomSanitizer,16))};static"ɵpipe"=t.ɵɵdefinePipe({name:"safeHtml",type:K,pure:!0})}class H{constructor(){}static"ɵfac"=function(e){return new(e||H)};static"ɵcmp"=t.ɵɵdefineComponent({type:H,selectors:[["tb-lib-styles-entry"]],standalone:!0,features:[t.ɵɵStandaloneFeature],decls:0,vars:0,template:function(e,t){},encapsulation:2})}const D=(e,t)=>{const n=e[i];if(n.styles?.length){const e=n.styles[0];let i=document.getElementById(t);if(!i){i=document.createElement("style"),i.id=t;(document.head||document.getElementsByTagName("head")[0]).appendChild(i)}i.innerHTML=e}};class J{constructor(e){!function(e){e.setTranslation("en_US",{tb:{twilio:{"number-from":"Phone Number From","number-from-required":"Phone Number From is required.","numbers-to":"Phone Numbers To","numbers-to-required":"Phone Numbers To is required.","number-to-hint":'Single Phone Number, use <code><span style="color: #000;">$&#123;</span>metadataKey<span style="color: #000;">&#125;</span></code> for value from metadata.',"numbers-to-hint":'Comma separated Phone Numbers, use <code><span style="color: #000;">$&#123;</span>metadataKey<span style="color: #000;">&#125;</span></code> for value from metadata.',"account-sid":"Twilio Account SID","account-sid-required":"Twilio Account SID is required.","account-token":"Twilio Account Token","account-token-required":"Twilio Account Token is required.",provider:"Voice provider","provider-required":"Voice provider is required.",language:"Language","language-required":"Language is required.",voice:"Voice","voice-required":"Voice is required.",pitch:"Pitch","pitch-required":"Pitch is required.",volume:"Volume","volume-required":"Volume is required.",rate:"Rate","rate-required":"Rate is required.","start-pause-required":"Start pause is required.","start-pause":"Pause before talking","phone-settings":"Phone settings","account-settings":"Account settings","voice-settings":"Voice settings","audio-output-settings":"Audio output settings",seconds:"seconds",decibel:"dB",percent:"%","see-examples":"See examples","start-pause-min":"Start pause should be equal or more then {{min}}."}}},!0)}(e),D(H,"tb-twilio-config-css")}static"ɵfac"=function(e){return new(e||J)(t.ɵɵinject(u.TranslateService))};static"ɵmod"=t.ɵɵdefineNgModule({type:J});static"ɵinj"=t.ɵɵdefineInjector({imports:[s,o,m,P,k]})}e("TwilioConfigModule",J),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(J,{declarations:[P,k,K],imports:[s,o,m],exports:[P,k]})}}}));//# sourceMappingURL=twilio-config.js.map
