{
  "type": "SCRIPT",
  "name": "Fill Segment Flowing",
  "entityId": {
    "id": "eea395b0-7c0a-11ef-baac-dd7fa92789f4",
    "entityType": "ASSET"
  },
  "debugSettings": {
    "failuresEnabled": true,
    "allEnabled": false,
    "allEnabledUntil": 1740999720307
  },
  "configurationVersion": 0,
  "configuration": {
    "type": "SCRIPT",
    "arguments": {
      "phFilterSegmentFlowing": {
        "refEntityKey": {
          "key": "phFilterSegmentFlowing",
          "type": "ATTRIBUTE",
          "scope": "SERVER_SCOPE"
        },
        "defaultValue": "false"
      },
      "poolIntakeValveOpened": {
        "refEntityId": {
          "entityType": "DEVICE",
          "id": "eebcc300-7c0a-11ef-baac-dd7fa92789f4"
        },
        "refEntityKey": {
          "key": "opened",
          "type": "TS_LATEST"
        },
        "defaultValue": "0"
      }
    },
    "expression": "var fillSegmentFlowing = phFilterSegmentFlowing && poolIntakeValveOpened == 1;\n\nreturn {\n    \"fillSegmentFlowing\": fillSegmentFlowing\n};",
    "output": {
      "type": "ATTRIBUTES",
      "scope": "SERVER_SCOPE"
    }
  }
}
